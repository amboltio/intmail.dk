var _0x45f4=['length','color','value','phVPe','toYwr','label','rgb(','floor','exec','push','<span\x20style=\x27color:','</span>','substring','html','trim','hide','APhOA','Spvbc','#decision','show','#predicted_category','concat','opsigelse','regning','ready','#mail_input','propertychange\x20change\x20click\x20keyup\x20input\x20paste','#test-mail-button','click','propertychange\x20change\x20click\x20keyup\x20input\x20paste\x20scroll','#text_overlay','scrollTop','Danish','green','red','blue','createTokens','map','val','getProbabilities'];(function(_0x1ab4ab,_0x479ff9){var _0x58fcf5=function(_0x100bf4){while(--_0x100bf4){_0x1ab4ab['push'](_0x1ab4ab['shift']());}};_0x58fcf5(++_0x479ff9);}(_0x45f4,0x160));var _0x5e0f=function(_0xb479be,_0x4bb6ab){_0xb479be=_0xb479be-0x0;var _0x44c2ed=_0x45f4[_0xb479be];return _0x44c2ed;};var text_overlay_html='';var stemmer=new Stemmer(_0x5e0f('0x0'));var preprocessor=new PreProcessor(stemmer);var classifier=trainClassifier(preprocessor);var class_colors={'bestilling':{'red':0x0,'green':0xff,'blue':0x0},'opsigelse':{'red':0xff,'green':0x0,'blue':0x0},'regning':{'red':0x0,'green':0x0,'blue':0xff}};var class_color_names={'bestilling':_0x5e0f('0x1'),'opsigelse':_0x5e0f('0x2'),'regning':_0x5e0f('0x3')};function predict(_0x4ea54d){var _0x4cc7eb=preprocessor[_0x5e0f('0x4')](_0x4ea54d);var _0x21f92b=_0x4cc7eb[_0x5e0f('0x5')](function(_0x3244fd){return _0x3244fd[_0x5e0f('0x6')];});return classifier['classify'](_0x21f92b);}function getColorOfWord(_0x2a7ae7){var _0xc9be5d=preprocessor['createTokens'](_0x2a7ae7);var _0x1ea930=_0xc9be5d['map'](function(_0x17df35){return _0x17df35[_0x5e0f('0x6')];});var _0x2c9557=classifier[_0x5e0f('0x7')](_0x1ea930);var _0x368972=getColorsFromProbs(_0x2c9557);return mix_colors(_0x368972);}function mix_colors(_0x4dcf0e){var _0x3464b8=0x0;var _0x135b5f=0x0;var _0x435c32=0x0;for(var _0x15987b=0x0;_0x15987b<_0x4dcf0e[_0x5e0f('0x8')];_0x15987b++){_0x3464b8+=_0x4dcf0e[_0x15987b][_0x5e0f('0x9')][_0x5e0f('0x2')]*_0x4dcf0e[_0x15987b][_0x5e0f('0xa')];_0x135b5f+=_0x4dcf0e[_0x15987b][_0x5e0f('0x9')][_0x5e0f('0x1')]*_0x4dcf0e[_0x15987b][_0x5e0f('0xa')];_0x435c32+=_0x4dcf0e[_0x15987b][_0x5e0f('0x9')][_0x5e0f('0x3')]*_0x4dcf0e[_0x15987b][_0x5e0f('0xa')];}var _0x415ad6={'red':_0x3464b8/_0x4dcf0e[_0x5e0f('0x8')],'green':_0x135b5f/_0x4dcf0e[_0x5e0f('0x8')],'blue':_0x435c32/_0x4dcf0e['length']};return normalize_color(_0x415ad6);}function normalize_color(_0x230f42){var _0x285b3f=_0x230f42[_0x5e0f('0x2')]+_0x230f42[_0x5e0f('0x1')]+_0x230f42[_0x5e0f('0x3')];return{'red':_0x230f42['red']/_0x285b3f*0xff,'green':_0x230f42[_0x5e0f('0x1')]/_0x285b3f*0xff,'blue':_0x230f42[_0x5e0f('0x3')]/_0x285b3f*0xff};}function getColorsFromProbs(_0x2ba1a9){var _0x328b7a=_0x2ba1a9[_0x5e0f('0x5')](function(_0x649829){if(_0x5e0f('0xb')!==_0x5e0f('0xc')){return{'color':class_colors[_0x649829[_0x5e0f('0xd')]],'value':_0x649829[_0x5e0f('0xa')]};}else{return _0x5e0f('0xe')+Math['floor'](color[_0x5e0f('0x2')])+',\x20'+Math[_0x5e0f('0xf')](color[_0x5e0f('0x1')])+',\x20'+Math[_0x5e0f('0xf')](color[_0x5e0f('0x3')])+')';}});var _0x4a7f48=0x0;for(var _0x5ca41f=0x0;_0x5ca41f<_0x328b7a[_0x5e0f('0x8')];_0x5ca41f++){_0x4a7f48+=_0x328b7a[_0x5ca41f][_0x5e0f('0xa')];}var _0xa88d5=_0x328b7a[_0x5e0f('0x5')](function(_0x569d0f){return{'color':_0x569d0f[_0x5e0f('0x9')],'value':_0x569d0f[_0x5e0f('0xa')]/_0x4a7f48};});return _0xa88d5;}function color_text(_0x1665cc){var _0x18f9aa=_0x1665cc;var _0x2aacce=/[a-zA-Z0-9\xc6\xc5\xd8\xe5\xe6\xf8]+/g;var _0x227ae9;var _0x1b957b=[];do{_0x227ae9=_0x2aacce[_0x5e0f('0x10')](_0x1665cc);if(_0x227ae9){_0x1b957b[_0x5e0f('0x11')](_0x227ae9);}}while(_0x227ae9);for(var _0x3d162c=_0x1b957b[_0x5e0f('0x8')]-0x1;_0x3d162c>=0x0;_0x3d162c--){var _0xaf27ef=_0x1b957b[_0x3d162c][0x0];var _0x591bf6=_0x1b957b[_0x3d162c]['index'];var _0xd39463=getColorOfWord(_0xaf27ef);var _0x525d1=get_css_color(_0xd39463);var _0x2bc7bb=_0x5e0f('0x12')+_0x525d1+'\x27>'+_0xaf27ef+_0x5e0f('0x13');var _0x283eaf=_0xaf27ef[_0x5e0f('0x8')];_0x18f9aa=_0x18f9aa[_0x5e0f('0x14')](0x0,_0x591bf6)+_0x2bc7bb+_0x18f9aa['substring'](_0x591bf6+_0x283eaf,_0x18f9aa[_0x5e0f('0x8')]);}$('#text_overlay')[_0x5e0f('0x15')](_0x18f9aa);}function get_css_color(_0x36eb31){return _0x5e0f('0xe')+Math[_0x5e0f('0xf')](_0x36eb31['red'])+',\x20'+Math[_0x5e0f('0xf')](_0x36eb31[_0x5e0f('0x1')])+',\x20'+Math['floor'](_0x36eb31[_0x5e0f('0x3')])+')';}function mail_inputted(_0x12a9e8){if($[_0x5e0f('0x16')](_0x12a9e8)[_0x5e0f('0x8')]<0x2){$('#decision')[_0x5e0f('0x17')]();}else{if(_0x5e0f('0x18')!==_0x5e0f('0x19')){$(_0x5e0f('0x1a'))[_0x5e0f('0x1b')]();}else{return{'color':x[_0x5e0f('0x9')],'value':x[_0x5e0f('0xa')]/sum};}}var _0x22d49e=predict(_0x12a9e8);var _0x5b93ab=class_colors[_0x22d49e];var _0x25cad1=class_color_names[_0x22d49e];color_text(_0x12a9e8);$('#predicted_category')[_0x5e0f('0x15')](_0x22d49e);$(_0x5e0f('0x1c'))['removeClass']()['addClass'](_0x25cad1);}function get_random_mail(){var _0x2aa4ed=[];_0x2aa4ed=_0x2aa4ed['concat'](docs_by_class['bestilling']);_0x2aa4ed=_0x2aa4ed[_0x5e0f('0x1d')](docs_by_class[_0x5e0f('0x1e')]);_0x2aa4ed=_0x2aa4ed[_0x5e0f('0x1d')](docs_by_class[_0x5e0f('0x1f')]);return _0x2aa4ed[Math[_0x5e0f('0xf')](Math['random']()*_0x2aa4ed[_0x5e0f('0x8')])];}$(document)[_0x5e0f('0x20')](function(){mail_inputted($(_0x5e0f('0x21'))['val']());$(_0x5e0f('0x21'))['on'](_0x5e0f('0x22'),function(){mail_inputted($(this)[_0x5e0f('0x6')]());});$(_0x5e0f('0x23'))[_0x5e0f('0x24')](function(){var _0x1d864f=get_random_mail();$('#mail_input')['val'](_0x1d864f);mail_inputted(_0x1d864f);});$('#mail_input,\x20#text_overlay')['on'](_0x5e0f('0x25'),function(){$(_0x5e0f('0x26'))[_0x5e0f('0x27')]($(_0x5e0f('0x21'))[_0x5e0f('0x27')]());});});
